<style>    .banner:hover{        border:2px solid #555;    }</style><?phpif(isset($_POST['submit_banner'])){    if($_REQUEST["select_action_banner"] && $_REQUEST["src_val"]){        $title =$_REQUEST["title"];        $pic = $_REQUEST["src_val"];        $type = $_REQUEST["select_action_banner"];        $value = "" ;        if($type == 1) {            $value = $_REQUEST["product"];        }        elseif($type == 2){            $value = $_REQUEST["cat"];        }        elseif ($type == 3) {            $value = $_REQUEST["link"];        }        global $wpdb;        $table_name = $wpdb->prefix . "woo2app_slider";        $r = $wpdb->query( $wpdb->prepare("INSERT INTO $table_name 		( sl_title , sl_type , sl_value , sl_pic ) 		VALUES ( %s, %d, %s, %s )", $title,$type,$value,$pic) );        if($r){            echo "<p style='color:green'>". ' اسلایدر ذخیره شد.' .'</p>';        }    }    else{        echo "<p style='color:red'>". ' * مشکلی رخ داده است ، لطفا فیلد ها را به طور صحیح پر کنید.' .'</p>';    }}$args = array(    'hide_empty' => 0 ,    'taxonomy' => 'product_cat');$cats = get_categories($args);?><div >    <form action="" method="post">        <table class="form-table " style="direction: rtl">            <tbody>            <tr valign="top" class="">                <th scope="row" class="titledesc">                    <label > عنوان </label>                </th>                <td class="forminp">                    <input type="text"  name="title" id="title" value="" placeholder="عنوان">                </td>            </tr>            <tr valign="top" class="">                <th scope="row" class="titledesc">                    <label > اکشن *  </label>                </th>                <td class="forminp">                    <select class="form-control" id="select_action_banner" name="select_action_banner" required="required">                        <option value="0"> لطفا یکی از موارد زیر را انتخاب کنید</option>                        <option value="1" >محصول</option>                        <option value="2">دسته بندی</option>                        <option value="3">لینک</option>                        <option value="4"> بدون اکشن </option>                    </select>                </td>            </tr>            <tr valign="top" class="el_type" id="el_products" style="display: none">                <th scope="row" class="titledesc">                    <label > محصول </label>                </th>                <td class="forminp">                    <input class="search_product_banner" id="search_product_banner1" data-id="1" placeholder="محصول را جستجو کنید ...." type="text">                    <select id="value_post_items_menu1" name="product" style="width:200px" class="form-control"></select>                    <img style="display:none;" height="25" width="25" id="img_load4" src="<?php echo WP_PLUGIN_URL."/".dirname( plugin_basename( __FILE__ ) ).'/../files/img/load.gif' ?>">                </td>            </tr>            <tr valign="top" class="el_type" id="el_cats" style="display: none">                <th scope="row" class="titledesc">                    <label > دسته بندی </label>                </th>                <td class="forminp">                    <select class="form-control" name="cat" id="cat">                        <?php                        foreach ($cats as $cat) {                            ?>                            <option style="text-align:right;" value="<?= $cat->slug; ?>"><?= $cat->name; ?></option>                            <?php                        }                        ?>                    </select>                </td>            </tr>            <tr valign="top" class="el_type" id="el_link" style="display: none">                <th scope="row" class="titledesc">                    <label > لینک کامل با http  * </label>                </th>                <td class="forminp">                    <input type="text"  name="link" id="link" value="" placeholder="لینک">                    <p>                        در صورتی که میخواهید به یک برگه یا پست لینک ایجاد کند میتوانید                        <a href="https://mr2app.com/blog/wp-page-link" target="_blank">                            این آموزش                        </a>                        را مطالعه کنید                    </p>                </td>            </tr>            <tr  >                <th scope="row" class="titledesc">                    <label dir="rtl">    عکس </label>                    <p style="color: red">                        ابعاد مثلا 750 در 375                    </p>                </th>                <td class="forminp">                    <input type="hidden" id="txt_url_item_hami" name="src_val">                    <img id="div_image_item_hami" class="banner" style="cursor: pointer;width: 300px;height: 150px" src="http://placehold.it/750x375&text=2x1">                </td>            </tr>            <tr >                <th scope="row" class="titledesc">                </th>                <td class="forminp">                    <input type="submit"  value="اضافه"  name="submit_banner">                </td>            </tbody>        </table>    </form></div><hr><h2 >    <strong>     لیست اسلایدر </strong></h2><table class="form-table " style=" width:60%;direction: rtl">    <tbody>    <?php    global $wpdb;    $table_name = $wpdb->prefix . "woo2app_slider";    $sliders = $wpdb->get_results("select * from $table_name");    foreach ($sliders as $slider) {        ?>        <tr  style="border-bottom: 2px solid" id="row_slider_<?= $slider->sl_id; ?>">            <td scope="row" class="titledesc">                <strong dir="rtl">    <?= esc_html($slider->sl_title);  ?> </strong>            </td>            <td class="">                <img id="div_image_item_hami" class="banner" style="cursor: pointer;width: 450px;height: 150px" src="<?= $slider->sl_pic;  ?>">            </td>            <td class="">                <button onclick="delete_slider_hami(<?= $slider->sl_id; ?>)" type="button" class="btn btn-danger btn-xs">حذف</button>            </td>        </tr>        <?php    }    ?>    </tbody></table><?php wp_enqueue_media();?><script>    jQuery('#select_action_banner').on('change', function() {        var type_val = (jQuery('#select_action_banner').val());        //alert(type_val)        jQuery('.el_type').css('display','none');        if(type_val == 1){            jQuery('#el_products').css('display','table-row');        }        else if(type_val == 2){            jQuery('#el_cats').css('display','table-row');        }        else if(type_val == 3){            jQuery('#el_link').css('display','table-row');        }    });    var custom_uploader_hami;    jQuery('#div_image_item_hami').click(function (e) {        e.preventDefault();        custom_uploader_hami = wp.media.frames.custom_uploader_hami = wp.media({            title: 'انتخاب تصویر',            library: {type: 'image'},            button: {text: 'انتخاب'},            multiple: false        });        custom_uploader_hami.on('select', function() {            attachment = custom_uploader_hami.state().get('selection').first().toJSON();            jQuery('#txt_url_item_hami').val(attachment.url);            url_image = attachment.url;            jQuery('#div_image_item_hami').attr("src",url_image);        });        custom_uploader_hami.open();    })    function delete_slider_hami(id){        if(confirm("آیا مطمئن به حذف هستید ؟")){            jQuery.ajax({                url: ajaxurl,                data: {                    action: "delete_item_slider_hami",                    "id" : id                },                success:function(data) {                    jQuery("#img_load_del_sl").addClass("hide");                    data = data.substring(0,data.length -1);                    if(data == 1){                        jQuery('#row_slider_' + id ).remove();                    }                }            });        }    }    jQuery('.search_product_banner').keyup(function(){        var id = jQuery(this).attr('data-id');        //alert(id);        var  v = jQuery(this).val();        if(v.length >= 3){            jQuery("#img_load"+id).attr("style",'display:block');            jQuery.ajax({                url: ajaxurl,                data: {                    action: "load_all_product",                    search_product : v                },                success:function(data) {                    jQuery("#img_load"+id).attr("style",'display:none');                    jQuery("#value_post_items_menu"+id).html(data);                }            });        }    });</script>